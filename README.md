# ì±„íŒ… í…ŒìŠ¤íŠ¸ í´ë¼ì´ì–¸íŠ¸ (Vue.js)

Spring Boot ì±„íŒ… ì„œë²„ í…ŒìŠ¤íŠ¸ìš© Vue.js í”„ë¡ íŠ¸ì—”ë“œ í´ë¼ì´ì–¸íŠ¸ì…ë‹ˆë‹¤.

## ğŸš€ ê¸°ìˆ  ìŠ¤íƒ

- **Vue 3** - Composition API ì‚¬ìš©
- **Vite** - ë¹ ë¥¸ ê°œë°œ ì„œë²„ ë° ë¹Œë“œ ë„êµ¬
- **SockJS** - WebSocket í´ë°± ì§€ì›
- **STOMP** - ë©”ì‹œì§• í”„ë¡œí† ì½œ

## ğŸ“¦ ì„¤ì¹˜ ë° ì‹¤í–‰ ë°©ë²•

### 1. ì €ì¥ì†Œ í´ë¡ 
```bash
git clone https://github.com/deehyeon/chat-test-client.git
cd chat-test-client
```

### 2. ì˜ì¡´ì„± ì„¤ì¹˜
```bash
npm install
```

### 3. ê°œë°œ ì„œë²„ ì‹¤í–‰
```bash
npm run dev
```

ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:3000 ìœ¼ë¡œ ì ‘ì†í•˜ì„¸ìš”.

### ê¸°íƒ€ ëª…ë ¹ì–´
```bash
# í”„ë¡œë•ì…˜ ë¹Œë“œ
npm run build

# ë¹Œë“œ ë¯¸ë¦¬ë³´ê¸°
npm run preview
```

## âš ï¸ ì£¼ì˜ì‚¬í•­

### ë°±ì—”ë“œ ì„œë²„ê°€ ë¨¼ì € ì‹¤í–‰ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤!
- ê¸°ë³¸ ì„œë²„ ì£¼ì†Œ: `http://localhost:8080`
- ë°±ì—”ë“œ ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì´ì§€ ì•Šìœ¼ë©´ ë¡œê·¸ì¸/íšŒì›ê°€ì…ì´ ì‘ë™í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

### CORS ì„¤ì • í™•ì¸
ë°±ì—”ë“œ ì„œë²„ì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ CORSë¥¼ í—ˆìš©í•´ì•¼ í•©ë‹ˆë‹¤:
```java
@Configuration
public class WebConfig implements WebMvcConfigurer {
    @Override
    public void addCorsMappings(CorsRegistry registry) {
        registry.addMapping("/**")
                .allowedOrigins("http://localhost:3000")
                .allowedMethods("GET", "POST", "PUT", "DELETE", "OPTIONS")
                .allowedHeaders("*")
                .allowCredentials(true);
    }
}
```

## ğŸ”§ ì‚¬ìš© ë°©ë²•

### 1. íšŒì›ê°€ì…
1. "íšŒì›ê°€ì…" ë²„íŠ¼ í´ë¦­
2. ì¼ë°˜ íšŒì› ë˜ëŠ” ê¸°ì—… íšŒì› ì„ íƒ
3. í•„ìˆ˜ ì •ë³´ ì…ë ¥ í›„ "ê°€ì…í•˜ê¸°"
4. ê°€ì… ì„±ê³µ ì‹œ ìë™ ë¡œê·¸ì¸ë©ë‹ˆë‹¤

### 2. ë¡œê·¸ì¸
1. ì„œë²„ URL í™•ì¸ (ê¸°ë³¸ê°’: `http://localhost:8080`)
2. ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ ì…ë ¥
3. "ë¡œê·¸ì¸" ë²„íŠ¼ í´ë¦­
4. WebSocket ì—°ê²°ì´ ìë™ìœ¼ë¡œ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤

### 3. ì±„íŒ…ë°© ìƒì„±
1. ì¢Œì¸¡ ì‚¬ì´ë“œë°”ì—ì„œ "ìƒëŒ€ë°© ID" ì…ë ¥
2. "1:1 ì±„íŒ…ë°© ë§Œë“¤ê¸°" ë²„íŠ¼ í´ë¦­
3. ìƒì„±ëœ ì±„íŒ…ë°©ì´ ëª©ë¡ì— í‘œì‹œë©ë‹ˆë‹¤

### 4. ë©”ì‹œì§€ ì „ì†¡
1. ì±„íŒ…ë°© ëª©ë¡ì—ì„œ ì›í•˜ëŠ” ì±„íŒ…ë°© í´ë¦­
2. í•˜ë‹¨ ì…ë ¥ì°½ì— ë©”ì‹œì§€ ì…ë ¥
3. Enter í‚¤ ë˜ëŠ” "ì „ì†¡" ë²„íŠ¼ìœ¼ë¡œ ì „ì†¡
4. ì‹¤ì‹œê°„ìœ¼ë¡œ ë©”ì‹œì§€ê°€ í‘œì‹œë©ë‹ˆë‹¤

### 5. ì±„íŒ…ë°© ë‚˜ê°€ê¸°
1. ì±„íŒ…ë°© ì„ íƒ í›„ ìš°ì¸¡ ìƒë‹¨ "ë‚˜ê°€ê¸°" ë²„íŠ¼ í´ë¦­
2. í™•ì¸ í›„ ì±„íŒ…ë°©ì—ì„œ ë‚˜ê°‘ë‹ˆë‹¤

## ğŸ“ ì£¼ìš” ê¸°ëŠ¥

- âœ… ì‹¤ì‹œê°„ WebSocket í†µì‹  (SockJS + STOMP)
- âœ… JWT ê¸°ë°˜ ì¸ì¦
- âœ… 1:1 ê°œì¸ ì±„íŒ…ë°© ìƒì„±
- âœ… ì½ì§€ ì•Šì€ ë©”ì‹œì§€ ì¹´ìš´íŠ¸ í‘œì‹œ
- âœ… ë©”ì‹œì§€ íˆìŠ¤í† ë¦¬ ë¡œë”©
- âœ… ìë™ ìŠ¤í¬ë¡¤
- âœ… ë°˜ì‘í˜• UI (WhatsApp ìŠ¤íƒ€ì¼)
- âœ… ì¼ë°˜/ê¸°ì—… íšŒì›ê°€ì… ì§€ì›
- âœ… ì±„íŒ…ë°© ë‚˜ê°€ê¸° ê¸°ëŠ¥

## ğŸ”— ë°±ì—”ë“œ API ì—”ë“œí¬ì¸íŠ¸

### ì¸ì¦
- `POST /v1/auth/login` - ë¡œê·¸ì¸
- `POST /v1/auth/signup/individual` - ì¼ë°˜ íšŒì›ê°€ì…
- `POST /v1/auth/signup/company/{companyId}` - ê¸°ì—… íšŒì›ê°€ì…

### ì±„íŒ…
- `POST /v1/chat/private?otherMemberId={id}` - 1:1 ì±„íŒ…ë°© ìƒì„±
- `GET /v1/chat/rooms/me` - ë‚´ ì±„íŒ…ë°© ëª©ë¡ ì¡°íšŒ
- `GET /v1/chat/rooms/{roomId}/messages` - ì±„íŒ…ë°© ë©”ì‹œì§€ ì¡°íšŒ
- `POST /v1/chat/rooms/{roomId}/read` - ë©”ì‹œì§€ ì½ìŒ ì²˜ë¦¬
- `DELETE /v1/chat/rooms/{roomId}` - ì±„íŒ…ë°© ë‚˜ê°€ê¸°

### WebSocket
- **ì—°ê²°**: `/connect`
- **êµ¬ë…**: `/topic/chat/room/{roomId}`
- **ë°œí–‰**: `/publish/{roomId}`

## ğŸ¨ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
chat-test-client/
â”œâ”€â”€ index.html              # HTML ì—”íŠ¸ë¦¬ í¬ì¸íŠ¸
â”œâ”€â”€ package.json            # í”„ë¡œì íŠ¸ ì˜ì¡´ì„±
â”œâ”€â”€ vite.config.js          # Vite ì„¤ì •
â”œâ”€â”€ .gitignore             # Git ì œì™¸ íŒŒì¼
â”œâ”€â”€ README.md              # í”„ë¡œì íŠ¸ ë¬¸ì„œ
â””â”€â”€ src/
    â”œâ”€â”€ main.js             # Vue ì•± ì´ˆê¸°í™”
    â”œâ”€â”€ App.vue             # ë©”ì¸ ì±„íŒ… ì»´í¬ë„ŒíŠ¸
    â””â”€â”€ style.css           # ì „ì—­ ìŠ¤íƒ€ì¼
```

## ğŸ› íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### í™”ë©´ì´ í‘œì‹œë˜ì§€ ì•ŠëŠ” ê²½ìš°
1. **ì˜ì¡´ì„± ì„¤ì¹˜ í™•ì¸**
   ```bash
   rm -rf node_modules package-lock.json
   npm install
   ```

2. **í¬íŠ¸ í™•ì¸**
   - ê¸°ë³¸ í¬íŠ¸ 3000ì´ ì‚¬ìš© ì¤‘ì¸ì§€ í™•ì¸
   - ë‹¤ë¥¸ í¬íŠ¸ë¡œ ë³€ê²½í•˜ë ¤ë©´ `vite.config.js` ìˆ˜ì •

3. **ë¸Œë¼ìš°ì € ì½˜ì†” í™•ì¸**
   - F12ë¥¼ ëˆŒëŸ¬ ê°œë°œì ë„êµ¬ ì—´ê¸°
   - Console íƒ­ì—ì„œ ì—ëŸ¬ ë©”ì‹œì§€ í™•ì¸

### CORS ì˜¤ë¥˜
ë°±ì—”ë“œ ì„œë²„ì—ì„œ CORS ì„¤ì •ì„ í™•ì¸í•˜ì„¸ìš”:
```java
@Configuration
public class WebSocketConfig implements WebSocketMessageBrokerConfigurer {
    @Override
    public void registerStompEndpoints(StompEndpointRegistry registry) {
        registry.addEndpoint("/connect")
                .setAllowedOrigins("http://localhost:3000")
                .withSockJS();
    }
}
```

### WebSocket ì—°ê²° ì‹¤íŒ¨
1. ë°±ì—”ë“œ ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸
2. ì„œë²„ URLì´ ì˜¬ë°”ë¥¸ì§€ í™•ì¸
3. WebSocket ì—”ë“œí¬ì¸íŠ¸(`/connect`)ê°€ ì˜¬ë°”ë¥¸ì§€ í™•ì¸
4. ë¸Œë¼ìš°ì € ì½˜ì†”(F12)ì—ì„œ ì—ëŸ¬ ë¡œê·¸ í™•ì¸

### ë¡œê·¸ì¸ì´ ì•ˆ ë˜ëŠ” ê²½ìš°
1. ë°±ì—”ë“œ ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸
2. ì„œë²„ URLì´ ì˜¬ë°”ë¥¸ì§€ í™•ì¸
3. ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥¸ì§€ í™•ì¸
4. ë„¤íŠ¸ì›Œí¬ íƒ­ì—ì„œ API ì‘ë‹µ í™•ì¸

## ğŸ’¡ ê°œë°œ íŒ

### ì„œë²„ URL ë³€ê²½
í™”ë©´ ì¢Œì¸¡ ìƒë‹¨ì˜ "ì„œë²„ URL" ì…ë ¥ì°½ì—ì„œ ë³€ê²½ ê°€ëŠ¥í•©ë‹ˆë‹¤.

### ë””ë²„ê·¸ ë¡œê·¸ í™œì„±í™”
`src/App.vue`ì—ì„œ ë‹¤ìŒ ë¼ì¸ì„ ìˆ˜ì •:
```javascript
// í˜„ì¬: stompClient.debug = null
// ë³€ê²½: stompClient.debug = (msg) => console.log(msg)
```

### ê°œë°œ ì¤‘ Hot Reload
ViteëŠ” íŒŒì¼ ë³€ê²½ ì‹œ ìë™ìœ¼ë¡œ ìƒˆë¡œê³ ì¹¨ë©ë‹ˆë‹¤.

## ğŸ“„ ë¼ì´ì„ ìŠ¤

MIT License

## ğŸ‘¨â€ğŸ’» ê°œë°œì

- GitHub: [@deehyeon](https://github.com/deehyeon)
